# üì± ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ QR Code ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö LAN

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ `localhost` ‡∏´‡∏£‡∏∑‡∏≠ `127.0.0.1` ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ô LAN ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ scan QR Code ‡πÑ‡∏î‡πâ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ QR Code ‡∏à‡∏∞‡∏°‡∏µ URL ‡πÄ‡∏õ‡πá‡∏ô `http://localhost:3001/...` ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variable (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. **‡∏´‡∏≤ IP Address ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:**
   ```bash
   # macOS/Linux
   ifconfig | grep "inet " | grep -v 127.0.0.1
   
   # ‡∏´‡∏£‡∏∑‡∏≠
   ipconfig getifaddr en0
   
   # Windows
   ipconfig
   ```
   
   ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: `192.168.1.37`

2. **‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `.env.local`:**
   ```bash
   # ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå cml-management-system
   touch .env.local
   ```

3. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ‡πÉ‡∏ô `.env.local`:**
   ```env
   NEXT_PUBLIC_BASE_URL=http://192.168.1.37:3001
   ```
   
   **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà `192.168.1.37` ‡∏î‡πâ‡∏ß‡∏¢ IP address ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

4. **‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó development server:**
   ```bash
   # ‡∏´‡∏¢‡∏∏‡∏î server (Ctrl+C)
   # ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
   npm run dev
   ```

5. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö:**
   - ‡πÄ‡∏õ‡∏¥‡∏î Admin ‚Üí Patients
   - ‡∏Å‡∏î "View QR Code" ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢
   - QR Code ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á URL ‡πÄ‡∏õ‡πá‡∏ô `http://192.168.1.37:3001/th/patient/...`
   - ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ô LAN ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ scan QR Code ‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö

1. **‡πÄ‡∏õ‡∏¥‡∏î QR Code Modal:**
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Admin ‚Üí Patients
   - ‡∏Å‡∏î "View QR Code" ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢

2. **‡∏î‡∏π‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:**
   - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á IP Address ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á
   - ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å IP Address ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á

3. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `.env.local`:**
   ```env
   NEXT_PUBLIC_BASE_URL=http://[IP_ADDRESS]:3001
   ```

4. **‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó server**

---

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ IP Address ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:

1. **‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô server:**
   ```bash
   # ‡πÄ‡∏õ‡∏¥‡∏î browser ‡πÑ‡∏õ‡∏ó‡∏µ‡πà
   http://192.168.1.37:3001
   ```
   ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥

2. **‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ô LAN:**
   ```bash
   # ‡πÄ‡∏õ‡∏¥‡∏î browser ‡πÑ‡∏õ‡∏ó‡∏µ‡πà
   http://192.168.1.37:3001
   ```
   ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô

3. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö QR Code:**
   - Scan QR Code ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô
   - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ Patient Portal ‡πÑ‡∏î‡πâ

---

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

### ‚ùå QR Code ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- Firewall ‡∏ö‡∏•‡πá‡∏≠‡∏Å port 3001
- IP Address ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- Server ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ server ‡∏¢‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö IP Address ‡πÉ‡∏ô `.env.local`
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Firewall settings

### ‚ùå ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ IP Address

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- API `/api/get-server-info` ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- Network interface ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö console ‡πÉ‡∏ô browser
2. ‡πÄ‡∏õ‡∏¥‡∏î `/api/get-server-info` ‡πÉ‡∏ô browser ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ response ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ IP Address ‡πÄ‡∏≠‡∏á‡πÉ‡∏ô `.env.local`

---

## ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Production

‡πÉ‡∏ô Production (Vercel, Coolify, etc.) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `NEXT_PUBLIC_BASE_URL` ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÉ‡∏ä‡πâ domain name ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

- `lib/qr-url.ts` - Utility functions ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö QR URL
- `components/admin/PatientQRCode.tsx` - QR Code component
- `app/api/get-server-info/route.ts` - API endpoint ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á IP address

---

## ‡∏™‡∏£‡∏∏‡∏õ

1. ‚úÖ ‡∏´‡∏≤ IP Address ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
2. ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `NEXT_PUBLIC_BASE_URL` ‡πÉ‡∏ô `.env.local`
3. ‚úÖ ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó server
4. ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö QR Code ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô

**‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!** üéâ



